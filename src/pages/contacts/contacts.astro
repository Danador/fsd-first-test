---
import Layout from "@layouts/Layout.astro";
import Contacts from '@modules/Contacts/views/Contacts.vue'
import { phoneMask } from "@tools/helpers";
import { getContacts } from "@modules/Contacts/store/Contacts";

const contacts = await getContacts()

// console.log(contacts);


const addresses = [
	{
		title: 'Адрес офиса:',
		adress: contacts?.officeAddress.adress,
		link: contacts?.officeAddress.link
	},
	{
		title: 'Адрес производства:',
		adress: contacts?.manufacturingAddress.adress,
		link: contacts?.manufacturingAddress.link
	}
]

const list = {
	map: contacts?.map,
	fullData: [
		{
			title: 'Отдел продаж:',
			mail: contacts?.salesTeamMail
		},
		{
			title: 'По сотовому пропилену:',
			mail: contacts?.cellularPropyleneMail,
			phone: phoneMask(contacts?.cellularPropylenePhone)
		},
		{
			title: 'Руководитель:',
			mail: contacts?.managerMail
		},
		{
			title: 'Бесплатный номер:',
			phone: phoneMask(contacts?.salesTeamPhone)
		},
		{
			title: 'Руководство:',
			mail: contacts?.managementMail
		},
		{
			title: 'Менеджер по закупкам:',
			mail: contacts?.purchasingManagerMail
		}
	]
}

const meta = {
	title: 'Контакты ЮгОил',
	description: 'Контакты по которым вы можете обратиться',
}
---
<Layout
	meta={meta}
>
	<Contacts
		client:load
		addresses={addresses}
		list={list}
	/>
</Layout>
